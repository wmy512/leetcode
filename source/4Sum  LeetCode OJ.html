<html>
<head>
  <title>4Sum | LeetCode OJ</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/270387 (zh-CN); Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="4018"/>
<h1>4Sum | LeetCode OJ</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="box-sizing: border-box; margin-right: -15px; margin-left: -15px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 20px; background-color: rgb(255, 255, 255);"><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-right: 15px; padding-left: 15px; width: 1170px;"><div style="box-sizing: border-box; padding-bottom: 10px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238);"><h3 style="box-sizing: border-box; font-weight: 500; line-height: 1.1; margin-top: 20px; margin-bottom: 10px; font-size: 24px; display: inline;">4Sum</h3>
 <span style="box-sizing: border-box; color: rgb(58, 135, 173); margin-left: 30px; font-size: 13px; vertical-align: text-bottom;">Total Accepted: <strong style="box-sizing: border-box;">1175</strong></span> <span style="box-sizing: border-box; color: rgb(58, 135, 173); margin-left: 15px; font-size: 13px; vertical-align: text-bottom;">Total Submissions: <strong style="box-sizing: border-box;">5311</strong></span><a href="http://oj.leetcode.com/problems/4sum/submissions/" style="box-sizing: border-box; color: rgb(51, 51, 51); text-decoration: none; display: inline-block; padding: 6px 12px; margin-bottom: 0px; line-height: 1.428571429; text-align: center; white-space: nowrap; vertical-align: middle; cursor: pointer; border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; float: right !important;">My Submissions</a></div><div style="box-sizing: border-box; margin-right: -15px; margin-left: -15px;"><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-right: 15px; padding-left: 15px; width: 1170px;"><div style="box-sizing: border-box; margin-left: 20px; line-height: 30px;"><p style="box-sizing: border-box; margin: 0px 0px 10px;"></p><p style="box-sizing: border-box; margin: 0px 0px 10px;">Given an array <i style="box-sizing: border-box;">S</i> of <i style="box-sizing: border-box;">n</i> integers, are there elements <i style="box-sizing: border-box;">a</i>, <i style="box-sizing: border-box;">b</i>, <i style="box-sizing: border-box;">c</i>, and <i style="box-sizing: border-box;">d</i> in <i style="box-sizing: border-box;">S</i> such that <i style="box-sizing: border-box;">a</i> + <i style="box-sizing: border-box;">b</i> + <i style="box-sizing: border-box;">c</i> + <i style="box-sizing: border-box;">d</i> = target? Find all unique quadruplets in the array which gives the sum of target.</p><p style="box-sizing: border-box; margin: 0px 0px 10px;"><b style="box-sizing: border-box;">Note:</b><br style="box-sizing: border-box;"></p><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px;"><li style="box-sizing: border-box;">Elements in a quadruplet (<i style="box-sizing: border-box;">a</i>,<i style="box-sizing: border-box;">b</i>,<i style="box-sizing: border-box;">c</i>,<i style="box-sizing: border-box;">d</i>) must be in non-descending order. (ie, <i style="box-sizing: border-box;">a</i> ≤ <i style="box-sizing: border-box;">b</i> ≤ <i style="box-sizing: border-box;">c</i> ≤ <i style="box-sizing: border-box;">d</i>)</li><li style="box-sizing: border-box;">The solution set must not contain duplicate quadruplets.</li></ul><p style="box-sizing: border-box; margin: 0px 0px 10px;"></p><pre style="box-sizing: border-box; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 13px; white-space: pre-wrap; padding: 9.5px; margin-top: 0px; margin-bottom: 10px; line-height: 1.428571429; word-break: break-all; word-wrap: break-word; background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px;">
    For example, given array S = {1 0 -1 0 -2 2}, and target = 0.

    A solution set is:
    (-1,  0, 0, 1)
    (-2, -1, 1, 2)
    (-2,  0, 0, 2)
</pre><p style="box-sizing: border-box; margin: 0px 0px 10px;"></p></div></div></div></div></div><p style="box-sizing: border-box; margin: 12px 0px 10px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 20px; background-color: rgb(255, 255, 255);"><a href="http://oj.leetcode.com/discuss/oj/4sum" style="box-sizing: border-box; color: rgb(255, 255, 255); text-decoration: none; display: inline-block; padding: 6px 20px; margin-bottom: 0px; font-size: 16px; line-height: 1.428571429; text-align: center; white-space: nowrap; vertical-align: middle; cursor: pointer; border: 1px solid rgb(76, 174, 76); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(92, 184, 92);">Discuss</a></p><br><div align="left"><font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">class</span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">Solution</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">{</span></font></div><div align="left"><font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">public</span></font><font face="Consolas" size="1"><span style="font-size:9pt">:</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">   </span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font><font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font><font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&gt; &gt; fourSum(</span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&gt; &amp;</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">num</span></font><font face="Consolas" size="1"><span style="font-size:9pt">,</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">target</span></font><font face="Consolas" size="1"><span style="font-size:9pt">) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">// IMPORTANT: Please reset any member data you declared, as</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">// the same Solution instance will be reused for each test case.</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">//先排序，然后利用2sum的变形即可。。O(n3) 288 ms</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">//没有考虑相同数字导致第一次出错，用set即可</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&gt; &gt; result;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        sort(</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">num</span></font><font face="Consolas" size="1"><span style="font-size:9pt">.begin(),</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">num</span></font><font face="Consolas" size="1"><span style="font-size:9pt">.end());</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        set&lt;</span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&gt; &gt; unique_sum;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">for</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">a = 0; a &lt;</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">num</span></font><font face="Consolas" size="1"><span style="font-size:9pt">.size(); a++) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">           </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">for</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">b = a + 1; b &lt;</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">num</span></font><font face="Consolas" size="1"><span style="font-size:9pt">.size(); b++) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">               </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">c = b + 1;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">               </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">d =</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">num</span></font><font face="Consolas" size="1"><span style="font-size:9pt">.size() - 1;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">               </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">while</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(c &lt; d) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                   </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">value =</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">num</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[a] +</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">num</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[b] +</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">num</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[c] +</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">num</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[d];</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                   </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">if</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(value &gt;</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">target</span></font><font face="Consolas" size="1"><span style="font-size:9pt">) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                        d--;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                    }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                   </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">else</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">if</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(value &lt;</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">target</span></font><font face="Consolas" size="1"><span style="font-size:9pt">) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                        c++;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                    }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                   </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">else</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">{</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                       </span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&gt; vi(4);</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                        vi[0] =</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">num</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[a];</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                        vi[1] =</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">num</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[b];</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                        vi[2] =</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">num</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[c];</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                        vi[3] =</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">num</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[d];</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                       </span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                        unique_sum.insert(vi);</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                        d--;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                        c++;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                    }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">            }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">for</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(set&lt;</span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&gt; &gt;::iterator iter = unique_sum.begin(); iter != unique_sum.end(); ++iter) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">            result.push_back(*iter);</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">return</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">result;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">    }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">};</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt"><br></span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt"><br></span></font></div><div align="left"><div align="left"><font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">class</span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">Solution</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">{</span></font></div><div align="left"><font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">private</span></font><font face="Consolas" size="1"><span style="font-size:9pt">:</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">   </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">struct</span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">Node</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">{</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">value1;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">value2;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">sum;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">index1;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">index2;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        Node(</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">v1</span></font><font face="Consolas" size="1"><span style="font-size:9pt">,</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">v2</span></font><font face="Consolas" size="1"><span style="font-size:9pt">,</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">i1</span></font><font face="Consolas" size="1"><span style="font-size:9pt">,</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">i2</span></font><font face="Consolas" size="1"><span style="font-size:9pt">): value1(</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">v1</span></font><font face="Consolas" size="1"><span style="font-size:9pt">), value2(</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">v2</span></font><font face="Consolas" size="1"><span style="font-size:9pt">), index1(</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">i1</span></font><font face="Consolas" size="1"><span style="font-size:9pt">), index2(</span></font><font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">i2</span></font><font face="Consolas" size="1"><span style="font-size:9pt">) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">            sum = value1 + value2;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        Node() {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">    };</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">   </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">static</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">bool</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">Compare(</span></font><font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">const</span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">Node</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">&amp;</span></font><font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">lhs</span></font><font face="Consolas" size="1"><span style="font-size:9pt">,</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">const</span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">Node</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">&amp;</span></font><font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">rhs</span></font><font face="Consolas" size="1"><span style="font-size:9pt">) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">return</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">lhs</span></font><font face="Consolas" size="1"><span style="font-size:9pt">.sum) &lt; (</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">rhs</span></font><font face="Consolas" size="1"><span style="font-size:9pt">.sum);</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">    }</span></font></div><div align="left"><font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">public</span></font><font face="Consolas" size="1"><span style="font-size:9pt">:</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">   </span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font><font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font><font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&gt; &gt; fourSum(</span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&gt; &amp;</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">num</span></font><font face="Consolas" size="1"><span style="font-size:9pt">,</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">target</span></font><font face="Consolas" size="1"><span style="font-size:9pt">) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">// IMPORTANT: Please reset any member data you declared, as</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">// the same Solution instance will be reused for each test case.</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">// 先累加所有的和。。O(N2)</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">// sort, O(n2 * log(n2)) //256ms</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">// 再一次遍历 O(n2)</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">length =</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">num</span></font><font face="Consolas" size="1"><span style="font-size:9pt">.size();</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">Node</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&gt; two_sum(length * (length - 1) / 2);</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">index = 0;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">for</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">i = 0; i &lt; length; i++) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">           </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">for</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">j = i + 1; j &lt; length; j++) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">               </span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">Node</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">tmp(</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">num</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[i],</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">num</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[j], i, j);</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                two_sum[index++] = tmp;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">            }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        sort(two_sum.begin(), two_sum.end(), Compare);</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">    </span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&gt; &gt; result;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        set&lt;</span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&gt; &gt; unique_sum;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">for</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">i = 0, j = two_sum.size() - 1; i &lt; j; ) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">           </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">if</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(two_sum[i].sum + two_sum[j].sum &gt;</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">target</span></font><font face="Consolas" size="1"><span style="font-size:9pt">) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                j--;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">            }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">           </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">else</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">if</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(two_sum[i].sum + two_sum[j].sum &lt;</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">target</span></font><font face="Consolas" size="1"><span style="font-size:9pt">) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                i++;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">            }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">           </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">else</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">{</span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">//equal</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">               </span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">               </span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">// find the upperbound of i</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">               </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">up_i = i + 1;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">               </span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">//result.push_back(vi);</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">               </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">while</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(up_i &lt; two_sum.size() &amp;&amp; two_sum[up_i].sum == two_sum[i].sum) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                    up_i++;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">               </span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">// find the lowerbound of j</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">               </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">low_j = j - 1;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">               </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">while</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(low_j &gt;= 0 &amp;&amp; two_sum[low_j].sum == two_sum[j].sum) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                    low_j--;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">               </span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">//repeat element fill</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">               </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">bool</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">diff =</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">true</span></font><font face="Consolas" size="1"><span style="font-size:9pt">;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">               </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">if</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(up_i == j + 1 &amp;&amp; low_j + 1 == i) { </span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">//两个元素区间相同</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                    diff =</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">false</span></font><font face="Consolas" size="1"><span style="font-size:9pt">;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt"><br></span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                RepeatFill(unique_sum, two_sum, i, up_i, low_j + 1, j + 1, diff);</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                i = up_i;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                j = low_j;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">            }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">for</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(set&lt;</span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&gt; &gt;::iterator iter = unique_sum.begin(); iter != unique_sum.end(); ++iter) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">            result.push_back(*iter);</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">return</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">result;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">    }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">   </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">void</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">RepeatFill(set&lt;</span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&gt; &gt; &amp;</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">unique_sum</span></font><font face="Consolas" size="1"><span style="font-size:9pt">,</span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font><font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">Node</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">&gt; &amp;</span></font><font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">two_sum</span></font><font face="Consolas" size="1"><span style="font-size:9pt">,</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">start_i</span></font><font face="Consolas" size="1"><span style="font-size:9pt">,</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">end_i</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">,</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">start_j</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">,</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">end_j</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">,</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">bool</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">diff</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">if</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">diff</span></font><font face="Consolas" size="1"><span style="font-size:9pt">) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">           </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">for</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">i =</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">start_i</span></font><font face="Consolas" size="1"><span style="font-size:9pt">; i &lt;</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">end_i</span></font><font face="Consolas" size="1"><span style="font-size:9pt">; i++) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">               </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">for</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">j =</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">start_j</span></font><font face="Consolas" size="1"><span style="font-size:9pt">; j &lt;</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">end_j</span></font><font face="Consolas" size="1"><span style="font-size:9pt">; j++) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                    PushNode(</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">unique_sum</span></font><font face="Consolas" size="1"><span style="font-size:9pt">,</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">two_sum</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">, i, j);</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">            }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">else</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">{</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">           </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">for</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">i =</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">start_i</span></font><font face="Consolas" size="1"><span style="font-size:9pt">; i &lt;</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">end_i</span></font><font face="Consolas" size="1"><span style="font-size:9pt">; i++) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">               </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">for</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">j =</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">start_i</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">+ 1; j &lt;</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">end_i</span></font><font face="Consolas" size="1"><span style="font-size:9pt">; j++) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                    PushNode(</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">unique_sum</span></font><font face="Consolas" size="1"><span style="font-size:9pt">,</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">two_sum</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">, i, j);</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">            }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt"><br></span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">    }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">   </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">void</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">PushNode(set&lt;</span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&gt; &gt; &amp;</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">unique_sum</span></font><font face="Consolas" size="1"><span style="font-size:9pt">,</span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font><font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">Node</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">&gt; &amp;</span></font><font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">two_sum</span></font><font face="Consolas" size="1"><span style="font-size:9pt">,</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">i</span></font><font face="Consolas" size="1"><span style="font-size:9pt">,</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">j</span></font><font face="Consolas" size="1"><span style="font-size:9pt">) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">//加入坐标判断，避免相同元素重复添加</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">if</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">two_sum</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">i</span></font><font face="Consolas" size="1"><span style="font-size:9pt">].index1 ==</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">two_sum</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">j</span></font><font face="Consolas" size="1"><span style="font-size:9pt">].index1 ||</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">two_sum</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">i</span></font><font face="Consolas" size="1"><span style="font-size:9pt">].index1 ==</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">two_sum</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[</span></font><font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">j</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">].index2 ||</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">           </span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">two_sum</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">i</span></font><font face="Consolas" size="1"><span style="font-size:9pt">].index2 ==</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">two_sum</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">j</span></font><font face="Consolas" size="1"><span style="font-size:9pt">].index1 ||</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">two_sum</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">i</span></font><font face="Consolas" size="1"><span style="font-size:9pt">].index2 ==</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">two_sum</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[</span></font><font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">j</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">].index2) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">               </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">return</span></font><font face="Consolas" size="1"><span style="font-size:9pt">;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">vector</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&lt;</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font><font face="Consolas" size="1"><span style="font-size:9pt">&gt; vi(4);</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        vi[0] =</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">two_sum</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">i</span></font><font face="Consolas" size="1"><span style="font-size:9pt">].value1;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        vi[1] =</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">two_sum</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">i</span></font><font face="Consolas" size="1"><span style="font-size:9pt">].value2;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        vi[2] =</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">two_sum</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">j</span></font><font face="Consolas" size="1"><span style="font-size:9pt">].value1;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        vi[3] =</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">two_sum</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">j</span></font><font face="Consolas" size="1"><span style="font-size:9pt">].value2;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">//sort inner</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">for</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">m = 0; m &lt; 4; m++) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">           </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">for</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">n = m + 1; n &lt; 4; n++) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">               </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">if</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(vi[m] &gt; vi[n]) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                    swap(vi[m], vi[n]);</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">            }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">unique_sum</span></font><font face="Consolas" size="1"><span style="font-size:9pt">.insert(vi);</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">    }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">};</span></font></div></div></div>
</div></body></html> 