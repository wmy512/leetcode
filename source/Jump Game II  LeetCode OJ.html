<html>
<head>
  <title>Jump Game II | LeetCode OJ</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/270387 (zh-CN); Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="3986"/>
<h1>Jump Game II | LeetCode OJ</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><br><div style="position: relative; max-width: 1170px;"><div style="font-size: 16px"><div style="box-sizing:border-box;font-family:sans-serif;font-size:62.5%;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);"><div style="box-sizing:border-box;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:14px;line-height:1.428571429;color:rgb(51, 51, 51);background-color:rgb(255, 255, 255);overflow-y:scroll;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;margin-right:-15px;margin-left:-15px;"><div style="box-sizing:border-box;position:relative;min-height:1px;padding-right:15px;padding-left:15px;width:100%;"><div style="box-sizing:border-box;padding-bottom:10px;border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:rgb(238, 238, 238);"><h3 style="box-sizing:border-box;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;font-weight:500;line-height:1.1;margin-top:20px;margin-bottom:10px;font-size:24px;display:inline;">Jump Game II</h3><span style="box-sizing:border-box;color:rgb(58, 135, 173);margin-left:30px;font-size:13px;vertical-align:text-bottom;">Total Accepted: <strong style="box-sizing:border-box;font-weight:bold;">1397</strong></span> <span style="box-sizing:border-box;color:rgb(58, 135, 173);margin-left:15px;font-size:13px;vertical-align:text-bottom;">Total Submissions: <strong style="box-sizing:border-box;font-weight:bold;">6123</strong></span> <a href="http://oj.leetcode.com/problems/jump-game-ii/submissions/" style="box-sizing:border-box;color:rgb(51, 51, 51);text-decoration:none;display:inline-block;padding:6px 12px;margin-bottom:0px;font-size:14px;font-weight:normal;line-height:1.428571429;text-align:center;white-space:nowrap;vertical-align:middle;cursor:pointer;border:1px solid transparent;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;background-color:rgb(255, 255, 255);border-color:rgb(204, 204, 204);float:right;">My Submissions</a></div><div style="box-sizing:border-box;margin-right:-15px;margin-left:-15px;"><div style="box-sizing:border-box;position:relative;min-height:1px;padding-right:15px;padding-left:15px;width:100%;"><div style="box-sizing:border-box;margin-left:20px;line-height:30px;"><p style="box-sizing:border-box;margin:0px 0px 10px;"></p><p style="box-sizing:border-box;margin:0px 0px 10px;">Given an array of non-negative integers, you are initially positioned at the first index of the array.</p><p style="box-sizing:border-box;margin:0px 0px 10px;">Each element in the array represents your maximum jump length at that position.</p><p style="box-sizing:border-box;margin:0px 0px 10px;">Your goal is to reach the last index in the minimum number of jumps.</p><p style="box-sizing:border-box;margin:0px 0px 10px;">For example:<br style="box-sizing:border-box;">
Given array A = <code style="box-sizing:border-box;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:90%;padding:2px 4px;color:rgb(199, 37, 78);white-space:nowrap;background-color:rgb(249, 242, 244);border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;">[2,3,1,1,4]</code></p><p style="box-sizing:border-box;margin:0px 0px 10px;">The minimum number of jumps to reach the last index is <code style="box-sizing:border-box;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:90%;padding:2px 4px;color:rgb(199, 37, 78);white-space:nowrap;background-color:rgb(249, 242, 244);border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;">2</code>. (Jump <code style="box-sizing:border-box;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:90%;padding:2px 4px;color:rgb(199, 37, 78);white-space:nowrap;background-color:rgb(249, 242, 244);border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;">1</code> step from index 0 to 1, then <code style="box-sizing:border-box;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:90%;padding:2px 4px;color:rgb(199, 37, 78);white-space:nowrap;background-color:rgb(249, 242, 244);border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;">3</code> steps to the last index.)</p><p style="box-sizing:border-box;margin:0px 0px 10px;"></p></div></div></div></div></div><p style="box-sizing:border-box;margin:0px 0px 10px;margin-top:12px;"><a href="http://oj.leetcode.com/discuss/oj/jump-game-ii" style="box-sizing:border-box;color:rgb(255, 255, 255);text-decoration:none;display:inline-block;padding:6px 20px;margin-bottom:0px;font-size:16px;font-weight:normal;line-height:1.428571429;text-align:center;white-space:nowrap;vertical-align:middle;cursor:pointer;border:1px solid transparent;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;background-color:rgb(92, 184, 92);border-color:rgb(76, 174, 76);">Discuss</a></p><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt"><br></span></font></div><div align="left"><font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">class</span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size:9pt">Solution</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">{</span></font></div><div align="left"><font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">public</span></font><font face="Consolas" size="1"><span style="font-size:9pt">:</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">   </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">jump(</span></font><font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">A</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[],</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">n</span></font><font face="Consolas" size="1"><span style="font-size:9pt">) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">// IMPORTANT: Please reset any member data you declared, as</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">// the same Solution instance will be reused for each test case.</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">/*</span></font></div><div align="left"><font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">         * We use &quot;last&quot; to keep track of the maximum distance that has been reached</span></font></div><div align="left"><font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">         * by using the minimum steps &quot;ret&quot;, whereas &quot;curr&quot; is the maximum distance</span></font></div><div align="left"><font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">         * that can be reached by using &quot;ret+1&quot; steps. Thus,</span></font></div><div align="left"><font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">         * curr = max(i+A[i]) where 0 &lt;= i &lt;= last.</span></font></div><div align="left"><font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">        */</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">if</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">A</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">== NULL ||</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">n</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">&lt;= 1) {</span></font> <font color="#008000" face="Consolas" size="1"><span style="font-size:9pt">// 1 should be zero...</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">           </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">return</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">0;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">last = 0;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">cur = 0;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">step = 0;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">for</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">int</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">i = 0; i &lt;</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">n</span></font><font face="Consolas" size="1"><span style="font-size:9pt">; i++) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">           </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">if</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">(i &gt; last) {</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                last = cur;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">                step++;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">            }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">            cur = max(cur,</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size:9pt">A</span></font><font face="Consolas" size="1"><span style="font-size:9pt">[i] + i);</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">        }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size:9pt">return</span></font> <font face="Consolas" size="1"><span style="font-size:9pt">step;</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt"><br></span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">    }</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt">};</span></font></div><div align="left"><font face="Consolas" size="1"><span style="font-size:9pt"><br></span></font></div><div align="left"><div><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; margin: 10px auto;"><br>
O(n)的。。。。#我和我的小伙伴们都惊呆了#。</p><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; margin: 10px auto;">要理解这个算法，首先明白，这个题只要我们求跳数，怎么跳，最后距离是多少，都没让求的。</p><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; margin: 10px auto;">大牛这个算法的思想主要是，扫描数组（废话。。。），以确定当前最远能覆盖的节点，放入curr。然后继续扫描，直到当前的路程超过了上一次算出的覆盖范围，那么更新覆盖范围，同时更新条数，因为我们是经过了多一跳才能继续前进的。</p><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; margin: 10px auto;">形象地说，这个是在争取每跳最远的greedy。举个栗子。</p><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; margin: 10px auto;"> </p><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; margin: 10px auto;">比如就是我们题目中的[2,3,1,1,4]。初始状态是这样的：cur表示最远能覆盖到的地方，用红色表示。last表示已经覆盖的地方，用箭头表示。它们都指在第一个元素上。</p><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; margin: 10px auto;"></p><div style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; border: 0px; display: inline-block;"><img src="Jump Game II  LeetCode OJ_files/10224309-52385b3be596487ba515a60f6ca26be3.png" type="image/png" height="174" style="cursor: default;" width="412"/></div><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto;"></p><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; margin: 10px auto;">接下来，第一元素告诉cur，最远咱可以走2步。于是：</p><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; margin: 10px auto;"></p><div style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; border: 0px; display: inline-block;"><img src="Jump Game II  LeetCode OJ_files/10224831-8c9350ce05e84ffd879d59608fb183e7.png" type="image/png" height="170" style="cursor: default;" width="413"/></div><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto;"></p><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; margin: 10px auto;">下一循环中，i指向1（图中的元素3），发现，哦，i小于last能到的范围，于是更新last（相当于说，进入了新的势力范围），步数ret加1.同时要更新cur。因为最远距离发现了。</p><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; margin: 10px auto;"></p><div style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; border: 0px; display: inline-block;"><img src="Jump Game II  LeetCode OJ_files/10230149-58095e5c30bd468d8eb8ba7fa2060042.png" type="image/png" height="199" style="cursor: default;" width="427"/></div><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto;"></p><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; margin: 10px auto;">接下来，i继续前进，发现i在当前的势力范围内，无需更新last和步数ret。更新cur。</p><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; margin: 10px auto;"></p><div style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; border: 0px; display: inline-block;"><img src="Jump Game II  LeetCode OJ_files/10230357-1a539fc05fcd44a2a638e4fafe8cc5da.png" type="image/png" height="203" style="cursor: default;" width="428"/></div><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto;"></p><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; margin: 10px auto;">i继续前进，接下来发现<strong>超过</strong>当前势力范围，更新last和步数。cur已然最大了。</p><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; margin: 10px auto;"></p><div style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; border: 0px; display: inline-block;"><img src="Jump Game II  LeetCode OJ_files/10230735-f18d66ab62aa44e6a426663b3880bb59.png" type="image/png" height="204" style="cursor: default;" width="429"/></div><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto;"></p><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; margin: 10px auto;">最后，i到最后一个元素。依然在势力范围内，遍历完成，返回ret。</p><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; margin: 10px auto;"></p><div style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; border: 0px; display: inline-block;"><img src="Jump Game II  LeetCode OJ_files/10231024-438f2b57106949ac92bddc4ba2acb64f.png" type="image/png" height="211" style="cursor: default;" width="430"/></div><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto;"></p><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; margin: 10px auto;">这道题让我们明白一个道理：</p><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; margin: 10px auto;">不要做无必要的计算。</p><p style="color: rgb(75, 75, 75); font-family: Verdana, Geneva, Arial, Helvetica, sans-serif; font-size: 13px; line-height: 19px; text-align: -webkit-auto; margin: 10px auto;">对了，有同学会问，那为啥要用last，直接用curr跳不就行了。直接用curr跳那每次都是跳最远的，但是最优路径不不一定是这样。</p><br></div></div></div></div></div></div></div><br></div>
</div></body></html> 