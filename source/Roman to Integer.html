<html>
<head>
  <title>Roman to Integer</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/270387 (zh-CN); Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="3614"/>
<h1>Roman to Integer</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div style="box-sizing: border-box; padding-bottom: 10px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; line-height: 20px; background-color: rgb(255, 255, 255);"><h4 style="box-sizing: border-box; line-height: 1.1; margin-top: 10px; margin-bottom: 10px; font-size: 18px; display: inline;">Roman to Integer</h4>
 
<div style="box-sizing: border-box; color: rgb(70, 136, 71); display: inline; margin: 0px 20px;"><small style="box-sizing: border-box; font-size: 12px;">AC Rate: 822/2494</small></div><a href="http://oj.leetcode.com/problems/roman-to-integer/submissions/" style="box-sizing: border-box; color: rgb(0, 136, 204); text-decoration: none; float: right !important;">My Submissions</a></div><div style="box-sizing: border-box; margin-right: -15px; margin-left: -15px; line-height: 20px; background-color: rgb(255, 255, 255);"><div style="box-sizing: border-box; position: relative; min-height: 1px; padding-right: 15px; padding-left: 15px; width: 1170px;"><div style="box-sizing: border-box; margin-left: 20px; line-height: 30px;"><p style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; box-sizing: border-box; margin: 0px 0px 10px;"></p><p style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px; box-sizing: border-box; margin: 0px 0px 10px;">Given a roman numeral, convert it to an integer.</p><div style="color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 14px;">Input is guaranteed to be within the range from 1 to 3999.</div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;">/*</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> * 给出若干个罗马数字，求和，并用罗马数字输出。思路很简单，需要两个函数进行转换。</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> * 关于罗马数字［来自百度百科］</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> * 罗马数字有如下符号：</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> * I (1) V</span></font><span style="color: rgb(0, 128, 0); font-family: Consolas; font-size: 12px;">(</span><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;">5) X</span></font><span style="color: rgb(0, 128, 0); font-family: Consolas; font-size: 12px;">(</span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: Consolas;">10</span><span style="color: rgb(0, 128, 0); font-family: Consolas; font-size: 12px;">) </span><span style="font-size: 9pt; color: rgb(0, 128, 0); font-family: Consolas;">L</span><span style="color: rgb(0, 128, 0); font-family: Consolas; font-size: 12px;">(</span><span style="color: rgb(0, 128, 0); font-family: Consolas; font-size: 9pt;">50</span><span style="color: rgb(0, 128, 0); font-family: Consolas; font-size: 12px;">) </span><span style="color: rgb(0, 128, 0); font-family: Consolas; font-size: 9pt;">C</span><span style="color: rgb(0, 128, 0); font-family: Consolas; font-size: 12px;">(</span><span style="color: rgb(0, 128, 0); font-family: Consolas; font-size: 9pt;">100</span><span style="color: rgb(0, 128, 0); font-family: Consolas; font-size: 12px;">) </span><span style="color: rgb(0, 128, 0); font-family: Consolas; font-size: 9pt;">D</span><span style="color: rgb(0, 128, 0); font-family: Consolas; font-size: 12px;">(</span><span style="color: rgb(0, 128, 0); font-family: Consolas; font-size: 9pt;">500</span><span style="color: rgb(0, 128, 0); font-family: Consolas; font-size: 12px;">) </span><span style="color: rgb(0, 128, 0); font-family: Consolas; font-size: 9pt;">M</span><span style="color: rgb(0, 128, 0); font-family: Consolas; font-size: 12px;">(</span><span style="color: rgb(0, 128, 0); font-family: Consolas; font-size: 9pt;">1000)</span></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> *</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> *    计数规则：</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> * 1.若干相同数字连写表示的数是这些罗马数字的和，如III=3；</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> *</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> * 2.小数字在大数字前面表示的数是用大数字减去小数字，如IV＝4；</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> * 3.小数字在大数字后面表示的数是用大数字加上小数字，如VI=6;</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> *</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> * 组合规则：</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> *</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> * (1)基本数字Ⅰ、X 、C 中的任何一个，自身连用构成数目，或者放在大数的右边连用构成数目，都不能超过三个；放在大数的左边只能用一个。</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> *</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> * (2)不能把基本数字 V 、L 、D 中的任何一个作为小数放在大数的左边采用相减的方法构成数目；放在大数的右边采用相加的方式构成数目，只能使用一个。</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> * (3)V 和 X 左边的小数字只能用Ⅰ。</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> * (4)L 和 C 左边的小数字只能用×。</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> * (5)D 和 M 左 边的小数字只能用 C 。</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> * 题目分析</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> * 罗马数字转阿拉伯数字：</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> * 从前往后遍历罗马数字，如果某个数比前一个数小，则把该数加入到结果中；反之，则在结果中两次减去前一个数并加上当前这个数；</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> *</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> * 阿拉伯数字转罗马数字：</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> * 这也是比赛时我头疼的，看了看网上的例子，发现一个和你巧妙的处理方式。把所有小数字在前的组合也作为基本数字，再做一个对应的数值表就可以解决问题了。</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;"> */</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#0000FF" face="Consolas" size="1"><span style="font-size: 9pt;">class</span></font><font face="Consolas" size="1"> </font><font color="#2B91AF" face="Consolas" size="1"><span style="font-size: 9pt;">Solution</span></font> <font face="Consolas" size="1"><span style="font-size: 9pt;">{</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#0000FF" face="Consolas" size="1"><span style="font-size: 9pt;">public</span></font><font face="Consolas" size="1"> <span style="font-size: 9pt;">:</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">    </span></font><font color="#0000FF" face="Consolas" size="1"><span style="font-size: 9pt;">int</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;"> romanToInt(</span></font> <font color="#2B91AF" face="Consolas" size="1"><span style="font-size: 9pt;">string</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;"> </span></font><font color="#808080" face="Consolas" size="1"><span style="font-size: 9pt;">s</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;">) {</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">        </span></font><font color="#008000" face="Consolas" size="1"><span style="font-size: 9pt;">// Note: The Solution object is instantiated only once and is reused by each test case.</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">        </span></font><font color="#0000FF" face="Consolas" size="1"><span style="font-size: 9pt;">int</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;"> first = rmap[</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size: 9pt;">s</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;">[0]];</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">        </span></font><font color="#0000FF" face="Consolas" size="1"><span style="font-size: 9pt;">int</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;"> sum = first;</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">        </span></font><font color="#0000FF" face="Consolas" size="1"><span style="font-size: 9pt;">for</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;"> (</span></font> <font color="#0000FF" face="Consolas" size="1"><span style="font-size: 9pt;">int</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;"> i = 1; i &lt; </span></font><font color="#808080" face="Consolas" size="1"><span style="font-size: 9pt;">s</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;">.size(); i++) {</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">            </span></font><font color="#0000FF" face="Consolas" size="1"><span style="font-size: 9pt;">int</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;"> cur = rmap[</span></font> <font color="#808080" face="Consolas" size="1"><span style="font-size: 9pt;">s</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;">[i]];</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">            </span></font><font color="#0000FF" face="Consolas" size="1"><span style="font-size: 9pt;">if</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;"> (cur &lt;= first) {</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">                sum += cur;</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">            }</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">            </span></font><font color="#0000FF" face="Consolas" size="1"><span style="font-size: 9pt;">else</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;"> {</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">                sum += cur - (first &lt;&lt; 1);</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">            }</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">            first = cur;</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">        }</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">        </span></font><font color="#0000FF" face="Consolas" size="1"><span style="font-size: 9pt;">return</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;"> sum;</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">    }</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">    Solution() {</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">        rmap[</span></font> <font color="#A31515" face="Consolas" size="1"><span style="font-size: 9pt;">'I'</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;">] = 1;</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">        rmap[</span></font> <font color="#A31515" face="Consolas" size="1"><span style="font-size: 9pt;">'V'</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;">] = 5;</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">        rmap[</span></font> <font color="#A31515" face="Consolas" size="1"><span style="font-size: 9pt;">'X'</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;">] = 10;</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">        rmap[</span></font> <font color="#A31515" face="Consolas" size="1"><span style="font-size: 9pt;">'L'</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;">] = 50;</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">        rmap[</span></font> <font color="#A31515" face="Consolas" size="1"><span style="font-size: 9pt;">'C'</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;">] = 100;</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">        rmap[</span></font> <font color="#A31515" face="Consolas" size="1"><span style="font-size: 9pt;">'D'</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;">] = 500;</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">        rmap[</span></font> <font color="#A31515" face="Consolas" size="1"><span style="font-size: 9pt;">'M'</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;">] = 1000;</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">    }</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font color="#0000FF" face="Consolas" size="1"><span style="font-size: 9pt;">private</span></font><font face="Consolas" size="1"> <span style="font-size: 9pt;">:</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">    </span></font><font color="#0000FF" face="Consolas" size="1"><span style="font-size: 9pt;">int</span></font><font face="Consolas" size="1"><span style="font-size: 9pt;"> rmap[100];</span></font></div><div align="left" style="color: rgb(0, 0, 0); font-family: Tahoma; line-height: normal; text-align: -webkit-left; font-size: medium;"><font face="Consolas" size="1"><span style="font-size: 9pt;">};</span></font></div></div></div></div></div>
</div></body></html> 